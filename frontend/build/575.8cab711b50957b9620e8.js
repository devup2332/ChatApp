(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[575],{8575:(n,t,e)=>{"use strict";e.r(t),e.d(t,{ChatModule:()=>z});var o=e(1116),a=e(6950),r=e(6304),i=e(1462),c=e(5909),s=e(529),l=e(8619),g=e(2693),d=e(769);let h=(()=>{class n{constructor(n,t){var e;this.router=n,this._pusherSrv=t,this.channel="",this.channel=null===(e=this._pusherSrv.channel)||void 0===e?void 0:e.name}_getChats(){const n=localStorage.getItem("access");return this.router.get(`${s.N.backend_uri}/api/get-chats`,{headers:{Authorization:`Bearer ${n}`}}).toPromise()}_getChat(n){const t=localStorage.getItem("access");return this.router.get(`${s.N.backend_uri}/api/get-chat/${n}`,{headers:{Authorization:`Bearer ${t}`}}).toPromise()}_sendMesage(n,t){var e;const o=localStorage.getItem("access");return this.router.post(`${s.N.backend_uri}/api/new-message`,{message:n,id:t,channel:null===(e=this._pusherSrv.channel)||void 0===e?void 0:e.name},{headers:{Authorization:`Bearer ${o}`}}).toPromise()}_filterUsers(n){const t=n.search.split(/[ ,]+/),e=localStorage.getItem("access");return this.router.post(`${s.N.backend_uri}/api/search-user`,{search:t},{headers:{Authorization:`Bearer ${e}`}}).toPromise()}_createChat(n){const t=localStorage.getItem("access");return this.router.post(`${s.N.backend_uri}/api/create-chat`,{id:n,socket:this.channel},{headers:{Authorization:`Bearer ${t}`}}).toPromise()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(g.eN),l.LFG(d.y))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=e(9801);function p(n,t){if(1&n){const n=l.EpF();l.TgZ(0,"li",7),l.NdJ("click",function(){const t=l.CHM(n).$implicit;return l.oxw().createChat(t)}),l._UZ(1,"img",8),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.qZA()}if(2&n){const n=t.$implicit;l.xp6(1),l.s9C("src",null==n?null:n.avatar,l.LSH),l.xp6(2),l.Oqu((null==n?null:n.first_name)+" "+(null==n?null:n.last_name))}}const m=function(n){return{visible:n}};let _=(()=>{class n{constructor(n,t){this.chatSrv=n,this.authSrv=t,this.modalActive=!1,this.backend_uri=s.N.backend_uri}ngOnInit(){var n=this;return(0,r.Z)(function*(){n.newChatForm=new i.cw({search:new i.NI("",[i.kI.required])}),n.user=yield n.authSrv._getUserLogged()})()}closeModal(n){var t;const e=document.querySelector(".new-chat-modal-container");if(n.target===e)return this.users=[],this.modalActive=!1,void(null===(t=this.newChatForm.get("search"))||void 0===t||t.reset())}serchingUser(){var n=this;return(0,r.Z)(function*(){const t=yield n.chatSrv._filterUsers(n.newChatForm.value);n.users=t.slice(0,5);const e=n.users.findIndex(t=>{var e;return t.id===(null===(e=n.user)||void 0===e?void 0:e.id)});-1!==e&&n.users.splice(e,1)})()}createChat(n){var t=this;return(0,r.Z)(function*(){var e;return t.modalActive=!1,null===(e=t.newChatForm.get("search"))||void 0===e||e.reset(),n?(yield t.chatSrv._createChat(null==n?void 0:n.id),t.users=[]):(yield t.chatSrv._createChat(t.users[0].id),t.users=[])})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(h),l.Y36(u.C))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-modal-new-chat"]],viewQuery:function(n,t){if(1&n&&l.Gf(c.h,5),2&n){let n;l.iGM(n=l.CRH())&&(t.snackbar=n.first)}},inputs:{modalActive:"modalActive"},decls:9,vars:5,consts:[[1,"new-chat-modal-container",3,"ngClass","click"],[1,"modal",3,"formGroup","ngSubmit"],[1,"title-modal"],[1,"input-container"],["type","text","placeholder","Search","formControlName","search",3,"input"],[1,"users-filtereds"],["class","option",3,"click",4,"ngFor","ngForOf"],[1,"option",3,"click"],["alt","",3,"src"]],template:function(n,t){1&n&&(l.TgZ(0,"div",0),l.NdJ("click",function(n){return t.closeModal(n)}),l.TgZ(1,"form",1),l.NdJ("ngSubmit",function(){return t.createChat()}),l.TgZ(2,"h1",2),l._uU(3,"Start a new conversation"),l.qZA(),l.TgZ(4,"div",3),l.TgZ(5,"input",4),l.NdJ("input",function(){return t.serchingUser()}),l.qZA(),l.TgZ(6,"ul",5),l.YNc(7,p,4,2,"li",6),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(8,"app-snackbar")),2&n&&(l.Q6J("ngClass",l.VKq(3,m,t.modalActive)),l.xp6(1),l.Q6J("formGroup",t.newChatForm),l.xp6(6),l.Q6J("ngForOf",t.users))},directives:[o.mk,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,o.sg,c.h],styles:['@import url("https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;500;600;700;800;900&display=swap");.light-theme[_ngcontent-%COMP%]{--main-color-1:#0058dc;--main-color-2:#0042a5;--main-color-3:#0058dc;--main-danger-color:red;--main-text-color-1:#000;--main-text-color-2:#fff;--main-bg-1:#fff;--main-bg-2:linear-gradient(180deg,#0058dc,#00327d);--main-bg-3:#e3e3e3;--main-bg-4:#fafafa;--main-bg-5:#e3e3e3;--main-bg-6:#fff;--main-bg-7:#0058dc;--main-hover-1:#adadad}.dark-theme[_ngcontent-%COMP%]{--main-color-1:#001330;--main-color-2:#0042a5;--main-color-3:#fff;--main-danger-color:red;--main-text-color-1:#fff;--main-text-color-2:#000;--main-bg-1:#000d1f;--main-bg-2:linear-gradient(180deg,#0058dc,#00327d);--main-bg-3:#001b44;--main-bg-4:#001330;--main-bg-5:#001d49;--main-bg-6:#001d49;--main-bg-7:#003c97;--main-hover-1:#adadad}.new-chat-modal-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#0000004d;opacity:0;cursor:pointer;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{cursor:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-30%);background:var(--main-bg-6);padding:20px 30px;border-radius:20px;width:50%;max-width:500px;display:grid;grid-template-columns:1fr 1fr;grid-gap:25px;gap:25px;transition:transform .3s ease}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .title-modal[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:2.4rem;color:var(--main-text-color-1);grid-column:1/3}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{grid-column:1/3;position:relative}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px;border:2px solid var(--main-text-color-1);box-shadow:none;border-radius:5px;font-family:Raleway,sans-serif;padding:0 10px;outline:none;color:var(--main-text-color-1);background:#0000}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--main-text-color-1)}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .users-filtereds[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(calc(100% + 10px));left:0;width:100%;border-radius:10px;background-color:#fff;box-shadow:0 0 5px -2px #000}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .users-filtereds[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{cursor:pointer;list-style:none;padding:10px;display:grid;grid-template-columns:1fr 5fr;align-items:center}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .users-filtereds[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .users-filtereds[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Raleway,sans-serif}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;height:40px;background-color:var(--main-color-1);border-radius:5px;border:none;cursor:pointer;color:var(--main-text-color-2);font-weight:700;transition:background-color .3s ease,color .3s ease,box-shadow .3s ease}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color-2)}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3){background-color:#fafafa;color:#000;border:1px solid #000}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3):hover{background-color:#e7e7e7}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(4){background-color:var(--main-bg-7);color:#fff;border:1px solid var(--main-bg-7)}.new-chat-modal-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(4):hover{background-color:var(--main-color-2)}.new-chat-modal-container.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.new-chat-modal-container.visible[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}']}),n})();const f=["modalContainer"];function b(n,t){1&n&&(l.TgZ(0,"p",15),l._uU(1,"Email is already in use"),l.qZA())}const C=function(n){return{visible:n}};let v=(()=>{class n{constructor(n,t,e){this.authSrv=n,this._pusherSrv=t,this._authSrv=e,this.backend_uri=s.N.backend_uri}ngOnInit(){var n,t=this;this.createForm(),null===(n=this._pusherSrv.channel)||void 0===n||n.bind("photo-updated-user",function(){var n=(0,r.Z)(function*(n){t.user=yield t._authSrv._getUserLogged(),t.timer&&clearTimeout(t.timer),t.snackbar.show(n.message),t.timer=setTimeout(()=>{t.snackbar.close()},3e3)});return function(t){return n.apply(this,arguments)}}())}createForm(){this.userForm=new i.cw({first_name:new i.NI("",i.kI.required),last_name:new i.NI("",i.kI.required),email:new i.NI("",[i.kI.required,i.kI.pattern(s.N.emailPatt)],this.authSrv._validate_email_profile()),phone:new i.NI("",[i.kI.required,i.kI.pattern(s.N.numberPatt)])})}updateUser(n){if(this.userForm.invalid)return Object.values(this.userForm.controls).forEach(n=>{n.markAsDirty()});this._authSrv._updateProfile(n).subscribe(()=>{this.snackbar.show("User was updated")})}showModal(n){this.user=n,this.userForm.patchValue({first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,phone:this.user.phone},{emitEvent:!1}),this.modalContainer.nativeElement.classList.add("visible")}evalCloseModal(n){const t=document.querySelector(".modal-user-information-container");n.target===t&&(null==t||t.classList.remove("visible"))}updateImage(n){var t=this;return(0,r.Z)(function*(){var e,o,a,r;if(!(null===(e=n.target)||void 0===e?void 0:e.files[0]))return;const i=new FormData;i.append("image",null===(o=n.target)||void 0===o?void 0:o.files[0]),i.append("id",null===(r=null===(a=t.user)||void 0===a?void 0:a.avatar)||void 0===r?void 0:r.id),t.snackbar.show("Uploading"),t.authSrv._uploadPhoto(i).subscribe(n=>{t.snackbar.close()})})()}get validateEmail(){var n,t,e;return(null===(n=this.userForm.get("email"))||void 0===n?void 0:n.hasError("exist"))&&((null===(t=this.userForm.get("email"))||void 0===t?void 0:t.touched)||(null===(e=this.userForm.get("email"))||void 0===e?void 0:e.dirty))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(u.C),l.Y36(d.y),l.Y36(u.C))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-modal-user-information"]],viewQuery:function(n,t){if(1&n&&(l.Gf(f,5),l.Gf(c.h,5)),2&n){let n;l.iGM(n=l.CRH())&&(t.modalContainer=n.first),l.iGM(n=l.CRH())&&(t.snackbar=n.first)}},decls:30,vars:6,consts:[[1,"modal-user-information-container",3,"ngClass","click"],["modalContainer",""],[1,"modal"],[1,"title-modal"],[1,"avatar-container",3,"click"],["alt","",3,"src"],[1,"hover-container"],["viewBox","0 0 56 56","xmlns","http://www.w3.org/2000/svg"],["d","M44.3333 11.6667V44.3333H11.6667V11.6667H44.3333ZM44.3333 7H11.6667C9.1 7 7 9.1 7 11.6667V44.3333C7 46.9 9.1 49 11.6667 49H44.3333C46.9 49 49 46.9 49 44.3333V11.6667C49 9.1 46.9 7 44.3333 7ZM32.9933 27.6733L25.9933 36.7033L21 30.66L14 39.6667H42L32.9933 27.6733Z"],[1,"photo-hover-text"],["type","file",2,"display","none",3,"change"],["inputFile",""],[1,"form",3,"formGroup","ngSubmit"],[1,"control-container"],["type","text","placeholder","First Name","formControlName","first_name"],[1,"message-error"],["type","text","placeholder","Last Name","formControlName","last_name"],["type","text","placeholder","Email","formControlName","email"],["class","message-error",4,"ngIf"],["type","text","placeholder","Phone Number","formControlName","phone"],["type","submit",1,"btn-update-user-profile"]],template:function(n,t){if(1&n){const n=l.EpF();l.TgZ(0,"div",0,1),l.NdJ("click",function(n){return t.evalCloseModal(n)}),l.TgZ(2,"div",2),l.TgZ(3,"h1",3),l._uU(4,"User Information"),l.qZA(),l.TgZ(5,"div",4),l.NdJ("click",function(){return l.CHM(n),l.MAs(13).click()}),l._UZ(6,"img",5),l.TgZ(7,"div",6),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA(),l.kcU(),l.TgZ(10,"span",9),l._uU(11,"Change Photo"),l.qZA(),l.qZA(),l.TgZ(12,"input",10,11),l.NdJ("change",function(n){return t.updateImage(n)}),l.qZA(),l.qZA(),l.TgZ(14,"form",12),l.NdJ("ngSubmit",function(){return t.updateUser(t.userForm.value)}),l.TgZ(15,"div",13),l._UZ(16,"input",14),l._UZ(17,"p",15),l.qZA(),l.TgZ(18,"div",13),l._UZ(19,"input",16),l._UZ(20,"p",15),l.qZA(),l.TgZ(21,"div",13),l._UZ(22,"input",17),l.YNc(23,b,2,0,"p",18),l.qZA(),l.TgZ(24,"div",13),l._UZ(25,"input",19),l._UZ(26,"p",15),l.qZA(),l.TgZ(27,"button",20),l._uU(28,"Update"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(29,"app-snackbar")}2&n&&(l.Q6J("ngClass",l.VKq(4,C,t.user)),l.xp6(6),l.s9C("src",null==t.user?null:t.user.avatar,l.LSH),l.xp6(8),l.Q6J("formGroup",t.userForm),l.xp6(9),l.Q6J("ngIf",t.validateEmail))},directives:[o.mk,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,o.O5,c.h],styles:['@import url("https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;500;600;700;800;900&display=swap");.light-theme[_ngcontent-%COMP%]{--main-color-1:#0058dc;--main-color-2:#0042a5;--main-color-3:#0058dc;--main-danger-color:red;--main-text-color-1:#000;--main-text-color-2:#fff;--main-bg-1:#fff;--main-bg-2:linear-gradient(180deg,#0058dc,#00327d);--main-bg-3:#e3e3e3;--main-bg-4:#fafafa;--main-bg-5:#e3e3e3;--main-bg-6:#fff;--main-bg-7:#0058dc;--main-hover-1:#adadad}.dark-theme[_ngcontent-%COMP%]{--main-color-1:#001330;--main-color-2:#0042a5;--main-color-3:#fff;--main-danger-color:red;--main-text-color-1:#fff;--main-text-color-2:#000;--main-bg-1:#000d1f;--main-bg-2:linear-gradient(180deg,#0058dc,#00327d);--main-bg-3:#001b44;--main-bg-4:#001330;--main-bg-5:#001d49;--main-bg-6:#001d49;--main-bg-7:#003c97;--main-hover-1:#adadad}.modal-user-information-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;opacity:0;visibility:hidden;background-color:#0000004d;transition:opacity .3s ease,visibility .3s ease}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:var(--main-bg-6);position:absolute;top:50%;left:50%;transform:translate(-50%,-30%);width:70%;max-width:800px;display:grid;grid-gap:40px;gap:40px;font-family:Raleway,sans-serif;border-radius:20px;padding:44px;grid-template-columns:.7fr 1fr;transition:transform .3s ease}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .title-modal[_ngcontent-%COMP%]{font-size:2.4rem;color:var(--main-text-color-1);grid-column:1/3}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden;position:relative;cursor:pointer;width:250px;height:250px;align-self:center;justify-self:center}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]:hover   .hover-container[_ngcontent-%COMP%]{opacity:1}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .hover-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .hover-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;width:50%}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .hover-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:20px}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:grid;grid-gap:10px;gap:10px}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .control-container[_ngcontent-%COMP%]{height:55px}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .control-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px;border:2px solid var(--main-text-color-1);box-shadow:none;border-radius:5px;font-family:Raleway,sans-serif;padding:0 10px;outline:none;color:var(--main-text-color-1);font-size:15px;background:#0000}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .control-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--main-text-color-1)}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .control-container[_ngcontent-%COMP%]   .message-error[_ngcontent-%COMP%]{font-size:14px;color:var(--main-danger-color)}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btn-update-user-profile[_ngcontent-%COMP%]{display:block;height:40px;background-color:var(--main-color-1);border-radius:5px;border:none;cursor:pointer;color:var(--main-text-color-2);font-weight:700;transition:background-color .3s ease,color .3s ease,box-shadow .3s ease;font-size:15px;background:var(--main-bg-7);color:#fafafa}.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btn-update-user-profile[_ngcontent-%COMP%]:hover{background-color:var(--main-color-2)}.modal-user-information-container.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-user-information-container.visible[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}@media (min-width:1300px){.modal-user-information-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{width:55%}}']}),n})();const M=["bubbles"],O=function(n){return{own:n}};function P(n,t){if(1&n&&(l.TgZ(0,"span",14),l._uU(1),l.qZA()),2&n){const n=t.$implicit,e=l.oxw();l.Q6J("ngClass",l.VKq(2,O,(null==e.user?null:e.user.id)===(null==n?null:n.emitter))),l.xp6(1),l.Oqu(n.message)}}const w=function(n){return{show:n}};let x=(()=>{class n{constructor(n,t){this._chatSrv=n,this._pusherSrv=t,this.backend_uri=s.N.backend_uri,this.newMessage=new l.vpe}ngOnInit(){var n,t,e,o=this;this.messageForm=new i.cw({message:new i.NI("",i.kI.required)}),null===(n=this._pusherSrv.channel)||void 0===n||n.bind("login-user",(0,r.Z)(function*(){o.chat&&(o.chat=yield o._chatSrv._getChat(o.chat.id))})),null===(t=this._pusherSrv.channel)||void 0===t||t.bind("logout-user",(0,r.Z)(function*(){o.chat&&(o.chat=yield o._chatSrv._getChat(o.chat.id))})),null===(e=this._pusherSrv.channel)||void 0===e||e.bind("new-message-user",function(){var n=(0,r.Z)(function*(n){var t,e;null===(t=o.chat)||void 0===t||t.messages.push(null==n?void 0:n.message),setTimeout(()=>{var n;o.bubbles.nativeElement.scroll({top:null===(n=o.bubbles.nativeElement.children[0])||void 0===n?void 0:n.clientHeight,left:0,behavior:"smooth"})},100),o.newMessage.emit(null===(e=null==n?void 0:n.message)||void 0===e?void 0:e.message)});return function(t){return n.apply(this,arguments)}}())}ngOnDestroy(){var n;null===(n=this._pusherSrv.channel)||void 0===n||n.unbind_all()}setChat(n,t){var e=this;return(0,r.Z)(function*(){var o;e.chat=yield e._chatSrv._getChat(n),e.user=t,e.bubbles.nativeElement.scrollTo({top:null===(o=e.bubbles.nativeElement.children[0])||void 0===o?void 0:o.clientHeight,left:0})})()}sendMessage(n){var t=this;return(0,r.Z)(function*(){var e;t.messageForm.invalid||(yield t._chatSrv._sendMesage(n,null===(e=t.chat)||void 0===e?void 0:e.id),t.bubbles.nativeElement.scrollTo({top:t.bubbles.nativeElement.scrollHeight,left:0,behavior:"smooth"}),t.messageForm.reset())})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(h),l.Y36(d.y))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-yes-chat"]],viewQuery:function(n,t){if(1&n&&l.Gf(M,5),2&n){let n;l.iGM(n=l.CRH())&&(t.bubbles=n.first)}},inputs:{chat:"chat"},outputs:{newMessage:"newMessage"},decls:18,vars:8,consts:[[1,"yes-chat-view-container",3,"ngClass"],[1,"header"],["alt","",3,"src"],[1,"bubbles-container"],["bubbles",""],[1,"bubble-scroll-container"],["class","bubble",3,"ngClass",4,"ngFor","ngForOf"],[1,"input-form",3,"formGroup","ngSubmit"],[1,"input-container-sendmessage"],["type","text","placeholder","Send message","formControlName","message",1,"input-sendmessage"],["type","submit",1,"icon-send-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24"],["fill","none","d","M0 0h24v24H0V0z"],["d","M3.4 20.4l17.45-7.48c.81-.35.81-1.49 0-1.84L3.4 3.6c-.66-.29-1.39.2-1.39.91L2 9.12c0 .5.37.93.87.99L17 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91z"],[1,"bubble",3,"ngClass"]],template:function(n,t){1&n&&(l.TgZ(0,"div",0),l.TgZ(1,"header",1),l._UZ(2,"img",2),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.TgZ(5,"span"),l._uU(6),l.qZA(),l.qZA(),l.TgZ(7,"div",3,4),l.TgZ(9,"div",5),l.YNc(10,P,2,4,"span",6),l.qZA(),l.qZA(),l.TgZ(11,"form",7),l.NdJ("ngSubmit",function(){return t.sendMessage(t.messageForm.value)}),l.TgZ(12,"div",8),l._UZ(13,"input",9),l.TgZ(14,"button",10),l.O4$(),l.TgZ(15,"svg",11),l._UZ(16,"path",12),l._UZ(17,"path",13),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&n&&(l.Q6J("ngClass",l.VKq(6,w,t.chat)),l.xp6(2),l.s9C("src",(null==t.user?null:t.user.id)!==(null==t.chat||null==t.chat.user_1?null:t.chat.user_1.id)?null==t.chat||null==t.chat.user_1?null:t.chat.user_1.avatar:null==t.chat||null==t.chat.user_2?null:t.chat.user_2.avatar,l.LSH),l.xp6(2),l.hij(" ",(null==t.user?null:t.user.id)!==(null==t.chat||null==t.chat.user_1?null:t.chat.user_1.id)?(null==t.chat||null==t.chat.user_1?null:t.chat.user_1.first_name)+" "+(null==t.chat||null==t.chat.user_1?null:t.chat.user_1.last_name):(null==t.chat||null==t.chat.user_2?null:t.chat.user_2.first_name)+" "+(null==t.chat||null==t.chat.user_2?null:t.chat.user_2.last_name)," "),l.xp6(2),l.hij(" ",(null==t.user?null:t.user.id)!==(null==t.chat||null==t.chat.user_1?null:t.chat.user_1.id)?null!=t.chat&&null!=t.chat.user_1&&t.chat.user_1.status?"Online":"Offline":null!=t.chat&&null!=t.chat.user_2&&t.chat.user_2.status?"Online":"Offline"," "),l.xp6(4),l.Q6J("ngForOf",null==t.chat?null:t.chat.messages),l.xp6(1),l.Q6J("formGroup",t.messageForm))},directives:[o.mk,o.sg,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u],styles:[".yes-chat-view-container[_ngcontent-%COMP%]{display:none}.yes-chat-view-container.show[_ngcontent-%COMP%]{display:block;display:grid;height:100%;max-height:100vh;grid-template-rows:.8fr 6fr 1fr}.yes-chat-view-container.show[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr 1fr;grid-gap:0 20px;gap:0 20px;padding:15px 30px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.yes-chat-view-container.show[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;grid-row:1/3}.yes-chat-view-container.show[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:var(--main-text-color-1);transition:color .3s ease}.yes-chat-view-container.show[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){font-weight:bolder;grid-column:2/4}.yes-chat-view-container.show[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){grid-column:2/4;grid-row:2/3}.yes-chat-view-container.show[_ngcontent-%COMP%]   .bubbles-container[_ngcontent-%COMP%]{overflow-y:auto;scrollbar-width:thin;scrollbar-color:#0058dc var(--main-bg-4);transition:scrollbar-color .3s ease}.yes-chat-view-container.show[_ngcontent-%COMP%]   .bubbles-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#0058dc}.yes-chat-view-container.show[_ngcontent-%COMP%]   .bubbles-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.yes-chat-view-container.show[_ngcontent-%COMP%]   .bubbles-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--main-bg-4);color:#0058dc}.yes-chat-view-container.show[_ngcontent-%COMP%]   .bubbles-container[_ngcontent-%COMP%]   .bubble-scroll-container[_ngcontent-%COMP%]{display:grid;padding:0 2.5rem;grid-gap:16px;gap:16px}.yes-chat-view-container.show[_ngcontent-%COMP%]   .bubbles-container[_ngcontent-%COMP%]   .bubble-scroll-container[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{background:var(--main-bg-5);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:7px 10px;color:var(--main-text-color-1);border-radius:10px;transition:background .3s ease,color .3s ease}.yes-chat-view-container.show[_ngcontent-%COMP%]   .bubbles-container[_ngcontent-%COMP%]   .bubble-scroll-container[_ngcontent-%COMP%]   .bubble.own[_ngcontent-%COMP%]{justify-self:right;background:#0058dc;color:#fff}.yes-chat-view-container.show[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]{padding:20px 50px}.yes-chat-view-container.show[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .input-container-sendmessage[_ngcontent-%COMP%]{border-radius:10px;background:var(--main-bg-3);transition:background .3s ease;padding:15px;display:flex;align-items:center;grid-gap:30px;gap:30px;height:50px;justify-content:space-between}.yes-chat-view-container.show[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .input-container-sendmessage[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#0000;color:var(--main-text-color-1);outline:none;border:none;font-size:16px;width:100%;transition:color .3s ease}.yes-chat-view-container.show[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .input-container-sendmessage[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--main-text-color-1);opacity:.5;outline:none;transition:color .3s ease}.yes-chat-view-container.show[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .input-container-sendmessage[_ngcontent-%COMP%]   .icon-send-container[_ngcontent-%COMP%]{width:30px;height:30px;background:#0000;outline:none;border:none;cursor:pointer}.yes-chat-view-container.show[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]   .input-container-sendmessage[_ngcontent-%COMP%]   .icon-send-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--main-color-3);transition:fill .3s ease}pre[_ngcontent-%COMP%]{color:var(--main-text-color-1);transition:color .3s ease}@media (min-width:1300px){.yes-chat-view-container.show[_ngcontent-%COMP%]{max-height:90vh}}"]}),n})(),y=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-loading"]],decls:15,vars:0,consts:[[1,"loader-container"],[1,"blobs"],[1,"blob-center"],[1,"blob"],["xmlns","http://www.w3.org/2000/svg","version","1.1",1,"icon-svg"],["id","goo"],["in","SourceGraphic","stdDeviation","10","result","blur"],["in","blur","mode","matrix","values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7","result","goo"],["in","SourceGraphic","in2","goo"]],template:function(n,t){1&n&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"div",2),l._UZ(3,"div",3),l._UZ(4,"div",3),l._UZ(5,"div",3),l._UZ(6,"div",3),l._UZ(7,"div",3),l._UZ(8,"div",3),l.qZA(),l.O4$(),l.TgZ(9,"svg",4),l.TgZ(10,"defs"),l.TgZ(11,"filter",5),l._UZ(12,"feGaussianBlur",6),l._UZ(13,"feColorMatrix",7),l._UZ(14,"feBlend",8),l.qZA(),l.qZA(),l.qZA(),l.qZA())},styles:[".loader-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#030303;width:100%;height:100vh}.icon-svg[_ngcontent-%COMP%]{display:none}.blobs[_ngcontent-%COMP%]{filter:url(#goo);width:300px;height:300px;position:relative;overflow:hidden;border-radius:70px;transform-style:preserve-3d}.blobs[_ngcontent-%COMP%]   .blob-center[_ngcontent-%COMP%]{transform-style:preserve-3d;transform-origin:left top;animation:blob-grow 3.4s linear infinite;box-shadow:0 -10px 40px -5px #0058dc}.blob[_ngcontent-%COMP%], .blobs[_ngcontent-%COMP%]   .blob-center[_ngcontent-%COMP%]{position:absolute;background:#0058dc;top:50%;left:50%;width:30px;height:30px;transform:scale(.9) translate(-50%,-50%);border-radius:50%}.blob[_ngcontent-%COMP%]{animation:blobs 3.4s ease-out infinite;transform-origin:center top;opacity:0}.blob[_ngcontent-%COMP%]:first-child{animation-delay:.2s}.blob[_ngcontent-%COMP%]:nth-child(2){animation-delay:.4s}.blob[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}.blob[_ngcontent-%COMP%]:nth-child(4){animation-delay:.8s}.blob[_ngcontent-%COMP%]:nth-child(5){animation-delay:1s}@keyframes blobs{0%{opacity:0;transform:scale(0) translate(calc(-330px - 50%),-50%)}1%{opacity:1}35%,65%{opacity:1;transform:scale(.9) translate(-50%,-50%)}99%{opacity:1}to{opacity:0;transform:scale(0) translate(calc(330px - 50%),-50%)}}@keyframes blob-grow{0%,39%{transform:scale(0) translate(-50%,-50%)}40%,42%{transform:scaleY(.9) translate(-50%,-50%)}43%,44%{transform:scale(1.2,1.1) translate(-50%,-50%)}45%,46%{transform:scale(1.3,1.2) translate(-50%,-50%)}47%,48%{transform:scale(1.4,1.3) translate(-50%,-50%)}52%{transform:scale(1.5,1.4) translate(-50%,-50%)}54%{transform:scale(1.7,1.6) translate(-50%,-50%)}58%{transform:scale(1.8,1.7) translate(-50%,-50%)}68%,70%{transform:scale(1.7,1.5) translate(-50%,-50%)}78%{transform:scale(1.6,1.4) translate(-50%,-50%)}80%,81%{transform:scale(1.5,1.4) translate(-50%,-50%)}82%,83%{transform:scale(1.4,1.3) translate(-50%,-50%)}84%,85%{transform:scale(1.3,1.2) translate(-50%,-50%)}86%,87%{transform:scale(1.2,1.1) translate(-50%,-50%)}90%,91%{transform:scaleY(.9) translate(-50%,-50%)}92%,to{transform:scale(0) translate(-50%,-50%)}}"]}),n})(),Z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-no-desktop"]],decls:2,vars:0,template:function(n,t){1&n&&(l.TgZ(0,"p"),l._uU(1,"Movil Pls"),l.qZA())},styles:[""]}),n})(),k=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-no-chat"]],decls:5,vars:0,consts:[[1,"no-chat-view-container"],[1,"body-no-chat"],["src","assets/vectors/no-chat-vector.svg","alt",""],[1,"no-chat-text-information"]],template:function(n,t){1&n&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"p",3),l._uU(4," Start a conversation with any that you want "),l.qZA(),l.qZA(),l.qZA())},styles:[".no-chat-view-container[_ngcontent-%COMP%]{height:100%;position:relative}.no-chat-view-container[_ngcontent-%COMP%]   .body-no-chat[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:70%;transform:translate(-50%,-50%)}.no-chat-view-container[_ngcontent-%COMP%]   .body-no-chat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px;margin:auto}.no-chat-view-container[_ngcontent-%COMP%]   .body-no-chat[_ngcontent-%COMP%]   .no-chat-text-information[_ngcontent-%COMP%]{text-align:center;margin-top:40px;font-size:35px;text-transform:uppercase;font-weight:500;color:var(--main-text-color-1);transition:color .3s ease}"]}),n})();function A(n,t){1&n&&l._UZ(0,"app-loading")}function q(n,t){1&n&&l._UZ(0,"app-no-desktop")}function U(n,t){1&n&&(l.TgZ(0,"h1",26),l._uU(1," You dont have any chat "),l.qZA())}function S(n,t){if(1&n){const n=l.EpF();l.TgZ(0,"div",29),l.NdJ("click",function(){const t=l.CHM(n).$implicit;return l.oxw(3).setChat(t)}),l._UZ(1,"img",30),l.TgZ(2,"span",31),l._uU(3),l.qZA(),l.TgZ(4,"span",32),l._uU(5),l.qZA(),l.qZA()}if(2&n){const n=t.$implicit,e=l.oxw(3);l.xp6(1),l.s9C("src",e.user.email===n.user_1.email?n.user_2.avatar:n.user_1.avatar,l.LSH),l.xp6(2),l.Oqu(e.user.email===n.user_1.email?n.user_2.first_name+" "+n.user_2.last_name:n.user_1.first_name+" "+n.user_1.last_name),l.xp6(2),l.Oqu(null==n?null:n.last_message)}}function T(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,S,6,3,"div",28),l.qZA()),2&n){const n=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",n.chats)}}function I(n,t){1&n&&l._UZ(0,"app-no-chat")}const N=function(n){return{active:n}};function J(n,t){if(1&n){const n=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"div",4),l.TgZ(2,"nav",5),l.TgZ(3,"ul",6),l.TgZ(4,"li",7),l.NdJ("click",function(){return l.CHM(n),l.oxw().openModal()}),l.O4$(),l.TgZ(5,"svg",8),l._UZ(6,"path",9),l.qZA(),l.qZA(),l.kcU(),l.TgZ(7,"li",7),l.NdJ("click",function(){return l.CHM(n),l.oxw().showModal()}),l.O4$(),l.TgZ(8,"svg",10),l._UZ(9,"path",11),l.qZA(),l.qZA(),l.kcU(),l.TgZ(10,"li",7),l.NdJ("click",function(){return l.CHM(n),l.oxw().logout()}),l.O4$(),l.TgZ(11,"svg",12),l.TgZ(12,"g",13),l._UZ(13,"path",14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l._UZ(14,"img",15),l.qZA(),l.TgZ(15,"div",16),l.TgZ(16,"div",17),l.TgZ(17,"h1",18),l._uU(18,"Chats"),l.qZA(),l.TgZ(19,"div",19,20),l.NdJ("click",function(){l.CHM(n);const t=l.MAs(20);return l.oxw().switchTheme(t)}),l._UZ(21,"div",21),l.qZA(),l.qZA(),l.TgZ(22,"div",22),l.YNc(23,U,2,0,"h1",23),l.YNc(24,T,2,1,"div",24),l.qZA(),l.qZA(),l.YNc(25,I,1,0,"app-no-chat",0),l.TgZ(26,"app-yes-chat",25),l.NdJ("newMessage",function(){return l.CHM(n),l.oxw().newMessage()}),l.qZA(),l.qZA(),l.qZA()}if(2&n){const n=l.oxw();l.xp6(14),l.s9C("src",n.user.avatar,l.LSH),l.xp6(5),l.Q6J("ngClass",l.VKq(6,N,n.darkActive)),l.xp6(4),l.Q6J("ngIf",n.chats.length<1),l.xp6(1),l.Q6J("ngIf",n.chats.length>0),l.xp6(1),l.Q6J("ngIf",!n.chat_selected),l.xp6(1),l.Q6J("chat",n.chat_selected)}}const F=[{path:"",component:(()=>{class n{constructor(n,t,e,o){this.router=n,this._authSrv=t,this._chatSrv=e,this._pusherSrv=o,this.loading=!0,this.backend_uri=s.N.backend_uri,this.modalVisible=!1,this.devices=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],this.match=!1}ngOnInit(){var n=this;return(0,r.Z)(function*(){var t;n.user=yield n._authSrv._getUserLogged(),n.loading=!0,yield n.getUserLogged(),n.charginTheme(),n.match=n.devices.some(n=>navigator.userAgent.match(n)),n.chats=yield n._chatSrv._getChats(),n.loading=!1,null===(t=n._pusherSrv.channel)||void 0===t||t.bind("new-chat",function(){var t=(0,r.Z)(function*(t){n.user.id!==t.chat.user_1.id&&n.user.id!==t.chat.user_2.id||(console.log("Agregado"),n.chats.push(t.chat))});return function(n){return t.apply(this,arguments)}}()),n._pusherSrv.channel.bind("photo-updated-user",(0,r.Z)(function*(){yield n.getUserLogged()}))})()}showModal(){this.modalUpdateUser.showModal(this.user)}charginTheme(){this.theme=localStorage.getItem("theme"),this.theme||(this.theme="light-theme",localStorage.setItem("theme","light-theme")),"light-theme"===this.theme&&document.body.classList.add("light-theme"),"dark-theme"===this.theme&&document.body.classList.add("dark-theme")}switchTheme(n){if(n.classList.toggle("active"),this.theme=localStorage.getItem("theme"),"light-theme"===this.theme)return document.body.classList.remove(this.theme),this.theme="dark-theme",localStorage.setItem("theme",this.theme),void document.body.classList.add(this.theme);"dark-theme"===this.theme&&(document.body.classList.remove(this.theme),this.theme="light-theme",localStorage.setItem("theme",this.theme),document.body.classList.add(this.theme))}logout(){var n=this;return(0,r.Z)(function*(){n.loading=!0,yield n._authSrv._logout_user(),localStorage.removeItem("access"),localStorage.removeItem("refresh"),n.loading=!1,n.router.navigate(["/login"]),"dark-theme"===n.theme&&(document.body.classList.remove("dark-theme"),localStorage.setItem("theme","light-theme"),document.body.classList.add("light-theme"))})()}setChat(n){var t=this;return(0,r.Z)(function*(){var e;t.chat_selected=n,null===(e=t.yesChatView)||void 0===e||e.setChat(n.id,t.user)})()}newMessage(){var n=this;return(0,r.Z)(function*(){n.chats=yield n._chatSrv._getChats()})()}getUserLogged(){var n=this;return(0,r.Z)(function*(){try{const t=yield n._authSrv._getUserLogged();n.user=t}catch(t){if(401===t.status){const t=yield n._authSrv._refreshToken();localStorage.setItem("access",t.access),n.user=yield n._authSrv._getUserLogged()}}})()}openModal(){this.modalChat.modalActive=!0}get darkActive(){return"dark-theme"===this.theme}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(a.F0),l.Y36(u.C),l.Y36(h),l.Y36(d.y))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-chat"]],viewQuery:function(n,t){if(1&n&&(l.Gf(x,5),l.Gf(_,5),l.Gf(v,5)),2&n){let n;l.iGM(n=l.CRH())&&(t.yesChatView=n.first),l.iGM(n=l.CRH())&&(t.modalChat=n.first),l.iGM(n=l.CRH())&&(t.modalUpdateUser=n.first)}},decls:5,vars:4,consts:[[4,"ngIf"],["class","app-page-container",4,"ngIf"],[3,"modalActive"],[1,"app-page-container"],[1,"app"],[1,"app-options-bar"],[1,"options"],[1,"menu-option",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 22 22"],["d","M9.958 0C4 0-.735 5.127.095 11.125c.529 3.822 3.428 7.031 7.225 8.043 1.414.377 2.874.457 4.34.204 1.224-.212 2.48-.117 3.679.183l1.457.364c1.889.473 3.605-1.208 3.122-3.06l-.278-1.069c-.302-1.16-.367-2.385-.055-3.542a9.657 9.657 0 00.104-4.588C18.771 3.415 14.873 0 9.958 0m0 2c3.952 0 7.047 2.71 7.776 6.083a7.649 7.649 0 01-.08 3.643c-1.35 4.992 2.598 6.996-1.83 5.888-1.473-.368-3.008-.472-4.505-.213a8.09 8.09 0 01-3.484-.165c-3.027-.807-5.342-3.373-5.76-6.385C1.405 5.997 5.269 2 9.958 2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1024 1024"],["d","M670.1 278.4c0 8.8-.6 17.6-1.7 26.3.5-3.5 1-7.1 1.4-10.6-2.4 17.4-7 34.3-13.7 50.5 1.3-3.2 2.7-6.4 4-9.6-6.7 15.8-15.3 30.6-25.8 44.2l6.3-8.1c-10.4 13.4-22.5 25.5-35.9 35.9l8.1-6.3c-13.6 10.4-28.4 19.1-44.2 25.8 3.2-1.3 6.4-2.7 9.6-4-16.2 6.7-33.1 11.3-50.5 13.7 3.5-.5 7.1-1 10.6-1.4-17.5 2.3-35.1 2.3-52.6 0 3.5.5 7.1 1 10.6 1.4-17.4-2.4-34.3-7-50.5-13.7 3.2 1.3 6.4 2.7 9.6 4-15.8-6.7-30.6-15.3-44.2-25.8l8.1 6.3c-13.4-10.4-25.5-22.5-35.9-35.9l6.3 8.1c-10.4-13.6-19.1-28.4-25.8-44.2 1.3 3.2 2.7 6.4 4 9.6-6.7-16.2-11.3-33.1-13.7-50.5.5 3.5 1 7.1 1.4 10.6-2.3-17.5-2.3-35.1 0-52.6-.5 3.5-1 7.1-1.4 10.6 2.4-17.4 7-34.3 13.7-50.5-1.3 3.2-2.7 6.4-4 9.6 6.7-15.8 15.3-30.6 25.8-44.2l-6.3 8.1c10.4-13.4 22.5-25.5 35.9-35.9l-8.1 6.3c13.6-10.4 28.4-19.1 44.2-25.8-3.2 1.3-6.4 2.7-9.6 4 16.2-6.7 33.1-11.3 50.5-13.7-3.5.5-7.1 1-10.6 1.4 17.5-2.3 35.1-2.3 52.6 0-3.5-.5-7.1-1-10.6-1.4 17.4 2.4 34.3 7 50.5 13.7-3.2-1.3-6.4-2.7-9.6-4 15.8 6.7 30.6 15.3 44.2 25.8l-8.1-6.3c13.4 10.4 25.5 22.5 35.9 35.9l-6.3-8.1c10.4 13.6 19.1 28.4 25.8 44.2-1.3-3.2-2.7-6.4-4-9.6 6.7 16.2 11.3 33.1 13.7 50.5-.5-3.5-1-7.1-1.4-10.6 1.1 8.7 1.6 17.5 1.7 26.3.1 20.9 18.3 41 40 40 21.6-1 40.1-17.6 40-40-.2-47.9-14.6-96.9-42.8-135.9-7.6-10.5-15.7-20.8-24.7-30.1-9.1-9.4-19.1-17.5-29.5-25.4-18.9-14.4-40-25-62.4-33.2-90.3-33.1-199.2-3.6-260.3 70.8-8.4 10.2-16.4 20.8-23.2 32.2-6.8 11.3-12.1 23.3-17 35.5-9.2 22.6-13.9 46.6-15.8 70.9-3.7 47.6 8.7 97.3 33.5 138.1 23.9 39.4 60 73.2 102.2 92.3 12.4 5.6 25.1 10.8 38.3 14.5 13.1 3.6 26.4 5.6 39.9 7.2 24.6 2.9 49.7.9 74-4 92.3-18.8 169.6-98.3 183.9-191.6 2.1-13.6 3.7-27.2 3.7-41 .1-20.9-18.5-41-40-40-21.6.7-39.8 17.3-39.8 39.7zm132.7 625.3H289.7c-22.7 0-45.4.2-68.1 0-2.5 0-5-.2-7.4-.5 3.5.5 7.1 1 10.6 1.4-4-.6-7.8-1.7-11.5-3.2 3.2 1.3 6.4 2.7 9.6 4-4-1.7-7.7-3.9-11.2-6.6l8.1 6.3c-3-2.5-5.8-5.2-8.2-8.2l6.3 8.1c-2.7-3.5-4.8-7.2-6.6-11.2 1.3 3.2 2.7 6.4 4 9.6-1.5-3.7-2.5-7.6-3.2-11.5.5 3.5 1 7.1 1.4 10.6-1.6-12.1-.5-24.9-.5-37.1v-42.8c0-10.7.6-21.3 2-31.9-.5 3.5-1 7.1-1.4 10.6 2.8-20.5 8.2-40.6 16.3-59.7-1.3 3.2-2.7 6.4-4 9.6 7.8-18.2 17.8-35.3 29.9-51l-6.3 8.1c12.1-15.5 26-29.5 41.6-41.6L283 673c15.7-12.1 32.8-22.1 51-29.9-3.2 1.3-6.4 2.7-9.6 4 19.1-8 39.1-13.5 59.7-16.3-3.5.5-7.1 1-10.6 1.4 14.8-1.9 29.5-2 44.4-2h183c16.5 0 32.9-.1 49.4 2-3.5-.5-7.1-1-10.6-1.4 20.5 2.8 40.6 8.2 59.7 16.3-3.2-1.3-6.4-2.7-9.6-4 18.2 7.8 35.3 17.8 51 29.9l-8.1-6.3c15.5 12.1 29.5 26 41.6 41.6l-6.3-8.1c12.1 15.7 22.1 32.8 29.9 51-1.3-3.2-2.7-6.4-4-9.6 8 19.1 13.5 39.1 16.3 59.7-.5-3.5-1-7.1-1.4-10.6 1.9 15.1 2 30.1 2 45.3v49.5c0 5.7.2 11.4-.5 17 .5-3.5 1-7.1 1.4-10.6-.6 4-1.7 7.8-3.2 11.5 1.3-3.2 2.7-6.4 4-9.6-1.7 4-3.9 7.7-6.6 11.2l6.3-8.1c-2.5 3-5.2 5.8-8.2 8.2l8.1-6.3c-3.5 2.7-7.2 4.8-11.2 6.6 3.2-1.3 6.4-2.7 9.6-4-3.7 1.5-7.6 2.5-11.5 3.2 3.5-.5 7.1-1 10.6-1.4-2.2.3-4.5.4-6.8.5-10.3.1-20.9 4.4-28.3 11.7-6.9 6.9-12.2 18.3-11.7 28.3 1 21.4 17.6 40.3 40 40 38.9-.6 73.1-26 84.5-63.3 4.5-14.8 3.5-30.7 3.5-45.9 0-34.8 1.1-69.3-4.9-103.8-8.8-50.5-34.2-98-69-135.3-34.8-37.3-81.6-64.7-131.1-76.9-28.4-7-57-8.1-86-8.1H422.4c-29.7 0-59.2 1.4-88.1 9.1-49.1 13-95.3 40.7-129.4 78.3-34.4 37.9-59.3 85.5-67.4 136.3-5.4 34.1-4.3 68.3-4.3 102.7 0 15.8-.9 32.3 4.8 47.4 7.4 19.4 19.2 34.7 36.5 46.2 13.5 8.9 30.6 13.2 46.6 13.4 7.8.1 15.6 0 23.4 0h558.4c20.9 0 41-18.4 40-40-1-21.8-17.6-40.1-40.1-40.1z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24"],["data-name","Layer 2"],["d","M7 6a1 1 0 000-2H5a1 1 0 00-1 1v14a1 1 0 001 1h2a1 1 0 000-2H6V6zm13.82 5.42l-2.82-4a1 1 0 00-1.39-.24 1 1 0 00-.24 1.4L18.09 11H10a1 1 0 000 2h8l-1.8 2.4a1 1 0 00.2 1.4 1 1 0 00.6.2 1 1 0 00.8-.4l3-4a1 1 0 00.02-1.18z","data-name","log-out"],["alt","",1,"user-avatar",3,"src"],[1,"chats-container"],[1,"header-chats"],[1,"title-chats"],[1,"switch",3,"ngClass","click"],["switch",""],[1,"ball"],[1,"chats-boxes"],["class","no-chats-message",4,"ngIf"],["class","boxes-subcontainer",4,"ngIf"],[3,"chat","newMessage"],[1,"no-chats-message"],[1,"boxes-subcontainer"],["class","box",3,"click",4,"ngFor","ngForOf"],[1,"box",3,"click"],["alt","",3,"src"],[1,"chat-name"],[1,"lst_message"]],template:function(n,t){1&n&&(l.YNc(0,A,1,0,"app-loading",0),l.YNc(1,q,1,0,"app-no-desktop",0),l.YNc(2,J,27,8,"div",1),l._UZ(3,"app-modal-new-chat",2),l._UZ(4,"app-modal-user-information")),2&n&&(l.Q6J("ngIf",t.loading),l.xp6(1),l.Q6J("ngIf",t.match),l.xp6(1),l.Q6J("ngIf",!t.loading&&!t.match),l.xp6(1),l.Q6J("modalActive",t.modalVisible))},directives:[o.O5,_,v,y,Z,o.mk,x,o.sg,k],styles:['@import url("https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;500;600;700;800;900&display=swap");.light-theme[_ngcontent-%COMP%]{--main-color-1:#0058dc;--main-color-2:#0042a5;--main-color-3:#0058dc;--main-danger-color:red;--main-text-color-1:#000;--main-text-color-2:#fff;--main-bg-1:#fff;--main-bg-2:linear-gradient(180deg,#0058dc,#00327d);--main-bg-3:#e3e3e3;--main-bg-4:#fafafa;--main-bg-5:#e3e3e3;--main-bg-6:#fff;--main-bg-7:#0058dc;--main-hover-1:#adadad}.dark-theme[_ngcontent-%COMP%]{--main-color-1:#001330;--main-color-2:#0042a5;--main-color-3:#fff;--main-danger-color:red;--main-text-color-1:#fff;--main-text-color-2:#000;--main-bg-1:#000d1f;--main-bg-2:linear-gradient(180deg,#0058dc,#00327d);--main-bg-3:#001b44;--main-bg-4:#001330;--main-bg-5:#001d49;--main-bg-6:#001d49;--main-bg-7:#003c97;--main-hover-1:#adadad}.app-page-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;background:var(--main-bg-1);transition:background .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]{box-shadow:0 0 10px -2px var(--main-text-color-1);transition:box-shadow .3s ease;width:100%;height:100vh;display:grid;background:var(--main-bg-4);grid-template-columns:.5fr 2.5fr 8fr;grid-template-rows:1fr;overflow:hidden;font-family:Raleway,sans-serif;transition:background .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .app-options-bar[_ngcontent-%COMP%]{background:var(--main-color-1);transition:background .3s ease;padding:80px 0 0;min-width:50px;position:relative}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .app-options-bar[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:grid;grid-gap:40px;gap:40px}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .app-options-bar[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{cursor:pointer;width:35%;list-style:none;margin:auto}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .app-options-bar[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:var(--main-hover-1)}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .app-options-bar[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;width:100%;height:100%;transition:fill .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .app-options-bar[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);width:50px;height:50px;border-radius:50%;cursor:pointer}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .app-options-bar[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:cover}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]{background-color:var(--main-bg-3);transition:background .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .header-chats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:32px}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .header-chats[_ngcontent-%COMP%]   .title-chats[_ngcontent-%COMP%]{color:var(--main-text-color-1);transition:color .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .header-chats[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{border-radius:10px;border:2px solid var(--main-text-color-1);transition:border .3s ease;width:32px;cursor:pointer;height:20px;position:relative}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .header-chats[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{width:8px;height:8px;background:var(--main-text-color-1);border-radius:10px;position:absolute;top:50%;left:0;transform:translate(4px,-50%);transition:transform .3s ease,background .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .header-chats[_ngcontent-%COMP%]   .switch.active[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{transform:translate(16px,-50%)}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .chats-boxes[_ngcontent-%COMP%]{overflow-y:auto;padding:0;scrollbar-width:thin;scrollbar-color:#0058dc var(--main-bg-3);transition:scrollbar-color .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .chats-boxes[_ngcontent-%COMP%]   .no-chats-message[_ngcontent-%COMP%]{padding:15px 32px;text-align:center;font-size:1.5rem;font-family:Raleway,sans-serif;font-weight:400;color:var(--main-text-color-1);transition:color .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .chats-boxes[_ngcontent-%COMP%]   .boxes-subcontainer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:grid;grid-gap:0 10px;gap:0 10px;cursor:pointer;grid-template-columns:1.2fr 4fr;grid-template-rows:1fr;padding:15px 32px;transition:background .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .chats-boxes[_ngcontent-%COMP%]   .boxes-subcontainer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover{background:var(--main-bg-1)}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .chats-boxes[_ngcontent-%COMP%]   .boxes-subcontainer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:45px;height:45px;object-fit:cover;border-radius:50%;grid-row:1/3}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .chats-boxes[_ngcontent-%COMP%]   .boxes-subcontainer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--main-text-color-1);transition:color .3s ease}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .chats-boxes[_ngcontent-%COMP%]   .boxes-subcontainer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){font-size:13px}.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]   .chats-container[_ngcontent-%COMP%]   .chats-boxes[_ngcontent-%COMP%]   .boxes-subcontainer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){font-weight:bolder;font-size:16px}@media (min-width:1300px){.app-page-container[_ngcontent-%COMP%]   .app[_ngcontent-%COMP%]{width:90%;max-width:1600px;height:90vh;border-radius:10px}}']}),n})()}];let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[a.Bz.forChild(F)],a.Bz]}),n})();var H=e(5425);let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[o.ez,L,H.m,i.UX]]}),n})()}}]);